<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz T√©cnico - Competi√ß√£o</title>
    <style>
        :root { --primary: #e31a1c; --secondary: #333; --success: #28a745; }
        body { font-family: sans-serif; background: #f4f4f4; text-align: center; margin: 0; padding: 20px; }
        .container { max-width: 600px; margin: auto; background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .timer-bar { height: 10px; background: #ddd; border-radius: 5px; margin-bottom: 20px; overflow: hidden; }
        .timer-fill { height: 100%; background: var(--primary); width: 100%; transition: width 1s linear; }
        .btn-opt { display: block; width: 100%; padding: 15px; margin: 10px 0; border: 2px solid #ddd; border-radius: 8px; cursor: pointer; font-size: 16px; transition: 0.3s; }
        .btn-opt:hover { background: #eee; }
        .hidden { display: none; }
        #ranking { list-style: none; padding: 0; }
        #ranking li { background: #fff; margin: 5px 0; padding: 10px; border-radius: 5px; display: flex; justify-content: space-between; border-left: 5px solid var(--primary); }
    </style>
</head>
<body>

<div class="container" id="setup-screen">
    <h1>üèÜ Quiz T√©cnico</h1>
    <p>Insira seu nome para come√ßar a competi√ß√£o:</p>
    <input type="text" id="player-name" placeholder="Seu nome aqui..." style="padding: 10px; width: 80%; margin-bottom: 20px;">
    <button class="btn-opt" style="background: var(--primary); color: white; border: none;" onclick="startQuiz()">INICIAR DESAFIO</button>
</div>

<div class="container hidden" id="quiz-screen">
    <div class="timer-bar"><div id="timer-fill" class="timer-fill"></div></div>
    <h2 id="question-text">Pergunta</h2>
    <div id="options-container"></div>
</div>

<div class="container hidden" id="result-screen">
    <h1>Fim de Jogo!</h1>
    <h2 id="final-score"></h2>
    <h3>Classifica√ß√£o Geral:</h3>
    <ul id="ranking"></ul>
    <button class="btn-opt" onclick="location.reload()">Jogar Novamente</button>
</div>

<script>
// Dados extra√≠dos dos seus documentos [cite: 2, 9, 13, 24, 27, 32, 180, 223]
const questions = [
    { q: "Qual o padr√£o de criptografia Wi-Fi mais seguro?", opts: ["WEP", "WAP", "WPA", "WPA2+AES"], correct: 3, time: 15 },
    { q: "O que deve fazer se n√£o houver disponibilidade de HP no tap?", opts: ["Inserir divisor", "N√£o realizar e abrir ocorr√™ncia PE1 (#205)", "Realizar e baixar com #203", "Inserir divisor e baixar com #409"], correct: 1, time: 20 },
    { q: "Qual a inclina√ß√£o correta ao furar de dentro para fora?", opts: ["15¬∞ para baixo", "15¬∞ para cima", "√Çngulo reto", "Furar de fora para dentro"], correct: 0, time: 20 },
    { q: "O que √© Downstream?", opts: ["Sinal CMTS para EMTA", "Sinal EMTA para CMTS", "Sinal Medidor para EMTA", "Sinal EMTA para Medidor"], correct: 0, time: 15 },
    { q: "Quais os n√≠veis na sa√≠da tap do DC 06 (Ref: CA 15 / CB 12)?", opts: ["CA: 12,5 / CB: 9,5", "CA: 13,5 / CB: 10,5", "CA: 15 / CB: 12", "CA: 09 / CB: 06"], correct: 0, time: 30 },
    { q: "Taxa de 7,5MBps equivale a qual velocidade contratada?", opts: ["100 Mbps", "12 Mbps", "120 Mbps", "60 Mbps"], correct: 3, time: 30 }
];

let currentQ = 0;
let score = 0;
let timer;
let timeLeft;
let playerName = "";

function startQuiz() {
    playerName = document.getElementById('player-name').value || "An√¥nimo";
    document.getElementById('setup-screen').classList.add('hidden');
    document.getElementById('quiz-screen').classList.remove('hidden');
    showQuestion();
}

function showQuestion() {
    if (currentQ >= questions.length) return showResults();
    
    const q = questions[currentQ];
    timeLeft = q.time;
    document.getElementById('question-text').innerText = q.q;
    const container = document.getElementById('options-container');
    container.innerHTML = "";
    
    q.opts.forEach((opt, i) => {
        const btn = document.createElement('button');
        btn.className = "btn-opt";
        btn.innerText = opt;
        btn.onclick = () => checkAnswer(i);
        container.appendChild(btn);
    });

    startTimer();
}

function startTimer() {
    const fill = document.getElementById('timer-fill');
    fill.style.width = "100%";
    clearInterval(timer);
    timer = setInterval(() => {
        timeLeft--;
        fill.style.width = (timeLeft / questions[currentQ].time * 100) + "%";
        if (timeLeft <= 0) checkAnswer(-1);
    }, 1000);
}

function checkAnswer(idx) {
    clearInterval(timer);
    if (idx === questions[currentQ].correct) {
        // Pontua√ß√£o: Base 500 + B√¥nus de Velocidade
        score += 500 + (timeLeft * 20);
    }
    currentQ++;
    showQuestion();
}

function showResults() {
    document.getElementById('quiz-screen').classList.add('hidden');
    document.getElementById('result-screen').classList.remove('hidden');
    document.getElementById('final-score').innerText = playerName + ", voc√™ fez " + score + " pontos!";
    
    // Simula√ß√£o de ranking (Pode ser conectado a um banco de dados)
    let hallOfFame = JSON.parse(localStorage.getItem('ranking') || "[]");
    hallOfFame.push({name: playerName, pts: score});
    hallOfFame.sort((a, b) => b.pts - a.pts);
    localStorage.setItem('ranking', JSON.stringify(hallOfFame.slice(0, 5)));
    
    const rankingList = document.getElementById('ranking');
    hallOfFame.slice(0, 5).forEach((entry, i) => {
        rankingList.innerHTML += `<li><span>${i+1}¬∞ ${entry.name}</span> <strong>${entry.pts}</strong></li>`;
    });
}
</script>
</body>
</html>

